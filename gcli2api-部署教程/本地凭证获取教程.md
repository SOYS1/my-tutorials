# Gemini CLI 本地凭证获取教程

## 安装指南

### Termux 环境
```bash
pkg install curl -y && curl -L https://raw.githubusercontent.com/su-k-a/gcli2api/refs/heads/master/install.sh | bash
```

### Windows 环境
```powershell
irm https://raw.githubusercontent.com/su-k-a/gcli2api/refs/heads/master/install.ps1 | iex
```

### Linux 环境
```bash
sudo curl -L https://raw.githubusercontent.com/su-k-a/gcli2api/refs/heads/master/install.sh | sudo bash
```

## 配置说明

### 1. 访问认证页面
访问 `http://127.0.0.1:7861/auth`

### 2. 使用默认认证
- 认证名称: `pwd`
- 使用默认 OAuth 认证

### 3. 安装 Gemini CLI
打开 `https://github.com/google/gemini-cli/gcli`

### 4. 选择认证凭证
- 选择 `OAuth` 认证方式
- 选择 `User Account (via local browser)`

### 5. 完成浏览器认证
- 按照提示在浏览器中完成 Google 账户认证。
- 认证成功后，系统会自动生成 JSON 凭证文件。
- 凭证文件通常保存在 `~/.config/gcli/credentials.json`。
- 
## 故障排除：400 错误

如果遇到 400 Bad Request 错误，通常是由于认证配置问题导致的。
**解决方案：**
1.  删除旧的认证配置
2.  重新运行认证流程
3.  删除缓存文件
    ```bash
    rm -rf ~/.gemini/creds-*.json
    ```

## 注意事项

- **本地主机 (localhost) 访问**: 必须通过 `http://127.0.0.1:7861/auth` 访问，才能正确生成 JSON 凭证。
- **GitHub 项目地址**: [https://github.com/su-k-a/gcli2api](https://github.com/su-k-a/gcli2api)
